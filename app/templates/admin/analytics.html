{% extends "base.html" %}
{% block title %}Analytics{% endblock %}
{% block content %}
<h1>Analytics</h1>
<canvas id="chart"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('chart').getContext('2d');
const chartData = {{ chart_data | tojson | safe }} || { labels: [], datasets: [] };
try {
    new Chart(ctx, { type: 'line', data: chartData, options: {} });
} catch (e) {
    console.error('Chart error:', e);
    document.getElementById('chart').innerHTML = '<p>Unable to load chart.</p>';
}
</script>
{% endblock %}